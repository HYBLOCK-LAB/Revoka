id: html
summary: 프로젝트 요구사항에 알맞게 Smart Contract를 개발한다.
categories: Solidity
status: Published
feedback email: sinphi03@gmail.com
tags: Solidity, Blockchain, Smart Contracts
authors: Jiseop Shin
duration: 110

# Week 2: Smart Contract 개발

## 세션 소개

Duration: 5

이번 세션은 Solidity를 사용하여 Smart Contract 개발에 대해 이해하는 것이 목적입니다. 여러분은 단순히 문법을 배우는 것을 넘어, 이더리움 생태계의 핵심 원리를 이해하고, 스마트 컨트랙트를 작성하여 블록체인 상에 배포하는 개발 과정을 경험하게 됩니다.

### 목차

#### 1. 요구사항 정리

프로젝트의 요구사항을 정리하여 개발 계획을 세웁니다. 앞으로 어떤 기능을 구현해야하는지 알아봅시다.

#### 2. 코드 뼈대 작성

코드 폴더 구조를 살펴보아 전체적인 프로젝트의 틀을 마련합니다. 스마트 컨트랙트의 들어가 함수 목록과 함수의 반환값, 파라미터를 설정하여 코드의 전체적인 뼈대를 작성합니다.

#### 3. 스마트 컨트랙트 작성

코드 배포, 토큰 매매, 다운로드 요청 등 스마트 컨트랙트에 들어가야 할 기능을 구현합니다.

#### 4. IPFS 사용법 익히기

IPFS에 대해 알아보고 사용법을 익힙니다. 이를 바탕으로 파일 업로드/다운로드기능을 구현합니다.

#### 5. 위원회 동작 방식의 이해

사전에 작성되어 있는 코드를 참고하여 위원회 서버의 동작 방식을 이해합니다.

## 요구사항 정리

아래의 요구사항은 저번 세션에 살펴보았던 요구사항들입니다.

#### 기능 요구사항

- User는 배포자, 위원회, 사용자로 구분됩니다.
  - 배포자: 코드를 배포한 사람
  - 위원회: 라이센스를 검증하는 사람
  - 사용자: 코드를 사용하는 사람
- 배포자는 codeHash, cipherCid의 정보를 포함하여 코드를 등록할 수 있습니다.
- 배포자는 만료일과 실행 횟수를 지정하여 라이선스를 발급합니다.
- 사용자는 코드를 실행할 때마다 권한을 소진합니다. (잔여 횟수가 줄어듭니다)
- 위원회는 실행 건마다 암호화된 조각을 제출합니다.
- 배포자는 본인의 라이선스나 코드 전체를 취소하거나 정지할 수 있어야 합니다.
- 모든 동작은 이벤트로 기록되어 누구나 확인할 수 있습니다.
- 사용자는 오프체인 서명을 이용해 가스 없이 실행을 위임할 수 있습니다.(낮은 우선 순위)
- 위원회는 멤버를 관리하고 임계치(threshold)를 설정합니다.(낮은 우선 순위)

#### 비기능 요구사항

- Hardhat, Remix, Metamask 등을 활용해 개발 환경을 구성합니다.
- 보안성: 키를 여러 위원에게 분산하여 보안을 강화합니다.
- 실행 전에는 로컬에서 코드 해시를 검증하여 무결성을 확인합니다.
- 저장 공간과 가스를 절약하기 위해 필요한 정보만 온체인에 기록합니다.
- 표준 토큰(ERC-1155/721) 규격을 사용하여 호환성을 확보합니다.
- 온체인에는 평문 코드를 저장하지 않고, 암호화된 파일만 IPFS에 저장합니다.
- 실행은 오프체인 환경(안전한 장소)에서 이루어지며, 실행 후 민감한 데이터는 즉시 삭제합니다.(낮은 우선 순위)
- 위원회 응답이 부족해도 서비스가 중단되지 않도록 여유 있게 구성합니다.(낮은 우선 순위)

## 코드 뼈대 작성

## 스마트 컨트랙트 작성

## IPFS 사용법 익히기

## 위원회 동작 방식의 이해

## 축하합니다
